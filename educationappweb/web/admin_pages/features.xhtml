<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:rich="http://richfaces.org/rich">

    <h:panelGrid columns="2" style="float: left; width: 100%;" styleClass="input_table">        
        <h:form>             

            <h:panelGrid columns="2" style="float: left;" styleClass="input_table">
                <rich:panel>
                    <f:facet name="header"><h:outputText value="User Information" /></f:facet>

                    <h:panelGrid columns="2">

                        <h:outputLabel value="#{bundle.EditUsersLabel_usersPK_schid}" for="usersPK_schid2" />
                        <h:inputText id="usersPK_schid2" value="#{usergroupUserController.schid}" 
                                     title="#{bundle.EditUsersTitle_usersPK_schid}"
                                     readonly="true"
                                     style="color: red;margin-bottom: 20px;text-decoration: blink;font-size: 12px"/>

                        <h:outputLabel value="#{bundle.EditUsersLabel_usersPK_userid}" for="usersPK_userid2" />
                        <h:inputText id="usersPK_userid2" value="#{usergroupUserController.userid}" 
                                     title="#{bundle.EditUsersTitle_usersPK_userid}" />

                        <h:outputLabel value="#{bundle.EditUsergroupLabel_usergroupPK_groupid}" for="user_groupid2" />
                        <h:panelGroup>
                            <h:selectOneMenu  id="user_groupid2" value="#{usergroupUserController.user_groupid}" >
                                <f:selectItems value ="#{usergroupController.roleOptions}" />
                            </h:selectOneMenu>
                            <h:message for="user_groupid2" errorClass="noTextErrorStyle"/>
                        </h:panelGroup>
                    </h:panelGrid>

                    <h:commandButton value="Assign Features to User" rendered="true"
                                     action="#{usergroupUserController.assignFeaturesToUser}" />

                </rich:panel>
            </h:panelGrid>

            <h:panelGrid columns="1" style="float: left;" styleClass="input_table">
                <rich:panel>
                    <f:facet name="header"><h:outputText value="User Information Search" /></f:facet>
                    <h:form>
                        <h:panelGroup binding="#{usersFeaturesController.userDataPanel.searchPanel.component}"/>
                    </h:form>
                    <h:form id="frm_user_datatable" style="height: 220px; overflow: auto;">
                        <h:dataTable binding="#{usersFeaturesController.userDataPanel.dataTable}"/>
                    </h:form>
                </rich:panel>
            </h:panelGrid>

        </h:form>
    </h:panelGrid>   

    <h:panelGrid columns="2" style="float: left; width: 100%;" styleClass="input_table"> 
        <h:form>

            <h:panelGrid columns="2" style="float: left;" styleClass="input_table">
                <rich:panel>
                    <f:facet name="header"><h:outputText value="Available Features" /></f:facet>

                    <h:panelGrid columns="2" >

                        <h:outputLabel value="Application ID" for="feat_appid" />
                        <h:inputText id="feat_appid" value="#{featuresController.appid}" title="AppID" readonly="true"
                                     style="color: red;margin-bottom: 14px;text-decoration: blink;font-size: 12px"/>

                        <h:outputLabel value="#{bundle.EditFeaturesLabel_featureid}" for="featureid" />
                        <h:inputText id="featureid" value="#{featuresController.featureid}" title="#{bundle.EditFeaturesTitle_featureid}" required="true" requiredMessage="#{bundle.EditFeaturesRequiredMessage_featureid}"/>
                        <h:outputLabel value="#{bundle.EditFeaturesLabel_featurename}" for="featurename" />
                        <h:inputText id="featurename" value="#{featuresController.featurename}" title="#{bundle.EditFeaturesTitle_featurename}" required="true" requiredMessage="#{bundle.EditFeaturesRequiredMessage_featurename}"/>
                        <h:outputLabel value="#{bundle.EditFeaturesLabel_featuredesc}" for="featuredesc" />
                        <h:inputText id="featuredesc" value="#{featuresController.featuredesc}" title="#{bundle.EditFeaturesTitle_featuredesc}" />

                        <div id="featuresControlId">
                            <h:panelGroup binding="#{featuresController.featureFormControl.component}" rendered="#{uar.features_edit}"/>
                        </div>
                    </h:panelGrid>

                </rich:panel>
            </h:panelGrid>

            <h:panelGrid columns="1">
                <rich:panel>
                    <f:facet name="header"><h:outputText value="Available Features Search" /></f:facet>

                    <h:form>
                        <h:panelGroup binding="#{featuresController.featureDataPanel.searchPanel.component}"/>
                    </h:form>
                    <h:form id="frm_feature_datatable" style="height: 220px; overflow: auto;">
                        <h:dataTable binding="#{featuresController.featureDataPanel.dataTable}"/>
                    </h:form>
                </rich:panel>
            </h:panelGrid>

        </h:form>
    </h:panelGrid>        

    <h:panelGroup layout="block" styleClass="input_form">
        <rich:panel>
            <f:facet name="header"><h:outputText value="Available Features" /></f:facet>
            <h:form> 

                <ui:repeat id="featureListId"
                           value="#{featuresController.allFeatureslist}" var="featItem" >

                    <p:fieldset legend="#{featItem.featurename}" style="font-size: 2px;" >
                        <h:selectManyCheckbox value="#{featuresController.selectedOptions}">
                            <f:selectItems value="#{featuresController.allAvailableOptions}" />
                        </h:selectManyCheckbox>
                    </p:fieldset>

                </ui:repeat>

            </h:form>
        </rich:panel>
    </h:panelGroup>

</html>

