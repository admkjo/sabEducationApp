<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:rich="http://richfaces.org/rich">

    <h:body>
        <h:panelGroup layout="block" styleClass="input_form">
            <h:form>
                <h:panelGrid columns="5">
                    <h:outputLabel value="Select Date"/>
                    <rich:calendar value="#{dailyCollectionController.selectedDateOfTransaction}" zindex="1000"/>
                    <h:commandButton value="Load Fees Collection" styleClass="action_button" action="#{dailyCollectionController.loadDailyFeesCollected()}"/>
                    <h:commandLink value="Print Report" styleClass="action_button" action="#{dailyCollectionController.printDailyFeesCollection()}"
                                   target="_blank"/>
                </h:panelGrid>
            </h:form>
            <br/>
            <h:form>
                <p:dataTable value="#{dailyCollectionController.dailyFeesCollectionList}" var="fees" rows="10" paginator="true" paginatorAlwaysVisible="false">
                    <p:column>
                        <f:facet name="header">
                            Tran. Date
                        </f:facet>
                        <h:outputLabel value="#{fees.dateOfPayment}">
                            <f:convertDateTime dateStyle="short" pattern="dd/MMM/yyyy"/>
                        </h:outputLabel>
                    </p:column>
                    <p:column sortBy="#{fees.student.surname},#{fees.student.othernames}">
                        <f:facet name="header">
                            Student
                        </f:facet>
                        <h:outputLabel value="#{fees.student.surname},#{fees.student.othernames}"/>
                    </p:column>
                    <p:column sortBy="#{fees.amountInvolved}">
                        <f:facet name="header">
                            Amount
                        </f:facet>
                        <h:outputLabel value="#{fees.amountInvolved}">
                            <f:convertNumber type="currency" pattern="#,###.##" maxFractionDigits="2" minFractionDigits="2"/>
                        </h:outputLabel>
                    </p:column>
                    <p:column>
                        <f:facet name="header">
                            Receipt No.
                        </f:facet>
                        <h:outputLabel value="#{fees.receiptNumber}"/>
                    </p:column>
                    <p:column>
                        <f:facet name="header">
                            Entry Type 
                        </f:facet>
                        <h:outputLabel value="#{fees.typeOfEntry.initials}"/>
                    </p:column>
                    <p:column sortBy="#{fees.studentBillType.billTypeName}"> 
                        <f:facet name="header">
                            Bill Type
                        </f:facet>
                        <h:outputLabel value="#{fees.studentBillType.billTypeName}"/>
                    </p:column>
                    <p:column sortBy="#{fees.recordedBy.staffName}"> 
                        <f:facet name="header">
                            Recorded By
                        </f:facet>
                        <h:outputLabel value="#{fees.recordedBy.staffName}"/>
                    </p:column>
                    <p:column sortBy="#{fees.mediumOfPayment}"> 
                        <f:facet name="header">
                            Payment Mode
                        </f:facet>
                        <h:outputLabel value="#{fees.mediumOfPayment}"/>
                    </p:column>

                </p:dataTable>
            </h:form>
        </h:panelGroup>
    </h:body>
</html>


